{"version":3,"sources":["webpack:///./src/App.vue?5b85","webpack:///./src/App.vue?a7d1","webpack:///./src/github.config.js","webpack:///./src/views/DirectoryPanel.vue?b07c","webpack:///./src/App.vue","webpack:///./src/views/Home.vue?1c13","webpack:///./src/views/Header.vue?42c5","webpack:///./src/github.js","webpack:///src/views/Header.vue","webpack:///./src/views/Header.vue?7087","webpack:///./src/views/Header.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///./src/views/Editor.vue?5fe2","webpack:///src/views/Editor.vue","webpack:///./src/views/Editor.vue?4f20","webpack:///./src/views/Editor.vue","webpack:///./src/views/Entry.vue?ba42","webpack:///./src/views/DirectoryPanel.vue?6337","webpack:///./src/views/Loading.vue?8468","webpack:///src/views/Loading.vue","webpack:///./src/views/Loading.vue?1dc1","webpack:///./src/views/Loading.vue","webpack:///src/views/DirectoryPanel.vue","webpack:///./src/views/DirectoryPanel.vue?bff5","webpack:///./src/views/DirectoryPanel.vue","webpack:///src/views/Entry.vue","webpack:///./src/views/Entry.vue?33d5","webpack:///./src/views/Entry.vue","webpack:///./src/views/SearchPanel.vue?4615","webpack:///src/views/SearchPanel.vue","webpack:///./src/views/SearchPanel.vue?919d","webpack:///./src/views/SearchPanel.vue","webpack:///./src/views/ArticlePanel.vue?9eec","webpack:///src/views/ArticlePanel.vue","webpack:///./src/views/ArticlePanel.vue?3475","webpack:///./src/views/ArticlePanel.vue","webpack:///./src/views/Login.vue?bc38","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?09c2","webpack:///./src/views/Login.vue","webpack:///./src/router.js","webpack:///./src/store.js","webpack:///./src/main.js","webpack:///./src/views/Entry.vue?96be","webpack:///./src/views/Loading.vue?10ec","webpack:///./src/views/Header.vue?e4ec","webpack:///./src/views/Home.vue?c7ed","webpack:///./src/App.vue?d0d8","webpack:///./src/App.vue?114e","webpack:///./src/views/Editor.vue?f6e9","webpack:///./src/views/SearchPanel.vue?5841"],"names":["module","exports","owner","defaultRepo","personalRepo","publicToken","oauthAppsClientId","githubAppsClientId","oauthUrl","component","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","$route","params","path","repo","staticRenderFns","_v","github","_e","directives","name","rawName","value","expression","domProps","on","$event","target","composing","keyword","search","login","file","sha","class","disabled","processing","blink","saveFile","discardFile","removeFile","newFile","editFile","avatar","ctrlKey","shiftKey","altKey","metaKey","logout","switchRepo","token","goLogin","config","client","defaultClient","Octokit","auth","prepare","VueCookies","get","Promise","resolve","reject","setContentType","promise","contentType","headers","indexOf","type","Array","isArray","data","contents","format","then","repos","getContents","remove","item","deleteFile","commit","createOrUpdateFile","Base64","encode","text","user","users","getAuthenticated","query","code","q","page","perPage","str","encodeURI","decode","parentDir","replace","prefix","switchPrefix","repoPrefix","takeAction","ref","options","upload","model","callback","$$v","content","_s","markdown","preview","edit","changeMode","loading","items","active","loadingParentDir","dir","_l","it","processItem","size","showFile","matchText","pretty","fragment","matches","searchItems","length","more","Vue","use","Router","mode","base","process","routes","redirect","Home","children","Entry","SearchPanel","ArticlePanel","Editor","Login","Vuex","state","mutations","receiveFile","payload","receiveDir","actions","Store","productionTip","router","store","render","h","App","$mount"],"mappings":"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","file":"js/chunk-common.665e6b8a.js","sourcesContent":["import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","module.exports = {\n    owner: \"pnparadise\", //github账号\n    defaultRepo: \"gitbook\", // 公开仓库 登录可提交issue comment\n    personalRepo: \"secretbook\", //optional 私人仓库 仅管理员可读写\n    publicToken : \"040ab84ddddee4c947c9f0f23a546464045f01ad\", //readonly 无登录用户只读public仓库\n    oauthAppsClientId: \"225031944a6bf76a419c\", //管理员授权 读写所有仓库\n    githubAppsClientId: \"Iv1.fb87a658b1a64609\", //普通用户授权 可提交issue comment 至install的仓库\n    oauthUrl: \"https://api.ggga.ga/github.php\" //授权服务器地址 需要支持oauth 和 githubapp 成功后重定向至redirectUrl\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectoryPanel.vue?vue&type=style&index=0&id=362cfa15&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectoryPanel.vue?vue&type=style&index=0&id=362cfa15&scoped=true&lang=css&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=ebfa7610&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"screen\"},[_c('div',{staticClass:\"screen-header\"},[_c('Header')],1),_c('div',{staticClass:\"screen-content\"},[_c('router-view',{attrs:{\"path\":_vm.$route.params.path,\"repo\":_vm.$route.params.repo}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"container\"},[_c('span',{staticClass:\"logo\"},[_vm._v(\"\\n            MarkdownBook \"),(_vm.github.repo === _vm.github.personalRepo)?_c('span',{staticClass:\"logo iconfont icon-jiesuo\"}):_vm._e()]),_c('nav',{staticClass:\"main-nav\"},[_c('ul',{staticClass:\"nav-list\"},[_c('li',{staticClass:\"nav-item search\"},[_c('form',{staticClass:\"nav-form\",attrs:{\"role\":\"search\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"nav-input\",attrs:{\"type\":\"search\",\"maxlength\":\"32\",\"placeholder\":\"关键字\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}}),_c('a',{staticClass:\"nav-icon iconfont icon-sousuo\",on:{\"click\":_vm.search}})])]),(_vm.login === _vm.github.owner)?[(_vm.$route.name === 'editor')?[_c('li',{staticClass:\"nav-item search\"},[_c('form',{staticClass:\"nav-form\",attrs:{\"role\":\"search\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.path),expression:\"path\"}],staticClass:\"nav-input\",attrs:{\"readonly\":_vm.file.sha,\"type\":\"search\",\"maxlength\":\"32\",\"placeholder\":\"文件名称\"},domProps:{\"value\":(_vm.path)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.path=$event.target.value}}}),_vm._v(\".md\\n                                \"),_c('a',{staticClass:\"nav-icon iconfont icon-baocun\",class:{ disabled: !!_vm.processing, blink: _vm.processing === 'save'},on:{\"click\":_vm.saveFile}}),_c('a',{staticClass:\"nav-icon iconfont icon-chexiao\",class:{ disabled: !!_vm.processing },on:{\"click\":_vm.discardFile}}),(_vm.file.sha)?_c('a',{staticClass:\"nav-icon iconfont icon-shanchu\",class:{ disabled: !!_vm.processing, blink: _vm.processing === 'remove'},on:{\"click\":_vm.removeFile}}):_vm._e()])])]:[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"iconfont icon-jiahao\",class:{ disabled: !!_vm.processing },on:{\"click\":_vm.newFile}})]),(_vm.file.sha)?[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"iconfont icon-bianjibiaoge\",class:{ disabled: !!_vm.processing },on:{\"click\":_vm.editFile}})])]:_vm._e()]]:_vm._e(),_c('li',{staticClass:\"nav-item\"},[(_vm.login)?_c('img',{staticClass:\"avatar\",attrs:{\"title\":'@' + _vm.login + ' 登出',\"alt\":'@' + _vm.login,\"src\":_vm.avatar},on:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.logout()},function($event){if(!$event.ctrlKey){ return null; }if($event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.switchRepo()}]}}):(!_vm.token)?_c('a',{on:{\"click\":[function($event){if($event.ctrlKey||$event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.goLogin(false)},function($event){if(!$event.ctrlKey){ return null; }if($event.shiftKey||$event.altKey||$event.metaKey){ return null; }return _vm.goLogin(true)}]}},[_vm._v(\"登录\")]):_vm._e()])],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import {Base64} from 'js-base64';\nimport Octokit from \"@octokit/rest/index\"\nimport VueCookies from 'vue-cookies'\nimport config from './github.config'\n\nconst github = {\n    owner: config.owner,\n    repo: config.defaultRepo,\n    defaultRepo: config.defaultRepo,\n    personalRepo: config.personalRepo,\n    publicToken: config.publicToken,\n    oauthAppsClientId: config.oauthAppsClientId,\n    githubAppsClientId: config.githubAppsClientId,\n    oauthUrl: config.oauthUrl,\n    client: null,\n    defaultClient: new Octokit({\n        auth: \"token \" + config.publicToken //public only\n    })\n};\n\nfunction prepare() {\n    if (!github.client) {\n        let token = VueCookies.get(\"access_token\");\n        if (token) {\n            github.client = new Octokit({\n                auth: 'token ' + token\n            });\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        if (github.client) {\n            resolve(github.client);\n        } else {\n            resolve(github.defaultClient);\n        }\n    });\n}\n\nfunction setContentType(promise){\n    let contentType = promise.headers['content-type'] || \"\";\n\n    if(contentType.indexOf('application/vnd.github.v3.raw') !== -1\n        || contentType.indexOf('application/vnd.github.v3.html') !== -1){\n        promise.type = \"file\"\n    }\n\n    if(contentType.indexOf(\"application/json\") !== -1){\n        if(Array.isArray(promise.data)){\n            promise.type = \"dir\";\n        }\n        else{\n            promise.type = promise.data && promise.data.type || null;\n        }\n    }\n}\n\n\nexport default {\n    config: github,\n    contents(path, format) {\n        return prepare().then(client =>\n            client.repos.getContents({\n                \"owner\": github.owner,\n                \"repo\": github.repo,\n                \"path\": path,\n                \"headers\": {\n                    \"If-None-Match\": \"\"\n                },\n                \"mediaType\": {\n                    \"format\": format || \"html\" // object raw\n                }\n            }).then(promise => {\n                setContentType(promise);\n                return promise;\n            })\n\n        );\n    },\n    remove(item) {\n        return prepare().then(client => {\n            return client.repos.deleteFile({\n                \"owner\": github.owner,\n                \"repo\": github.repo,\n                \"path\": item.path,\n                \"message\": \"octokit: [master] page deleted\",\n                \"sha\": item.sha\n            });\n        });\n    },\n    commit(item) {\n        return prepare().then(client => {\n            return client.repos.createOrUpdateFile({\n                \"owner\": github.owner,\n                \"repo\": github.repo,\n                \"path\": item.path,\n                \"message\": \"octokit: [master] page modified\",\n                \"content\": Base64.encode(item.text),\n                \"sha\": item.sha\n            });\n        });\n    },\n    user() {\n        return prepare().then(client => {\n            return client.users.getAuthenticated();\n        })\n    },\n\n    search(query){\n        return prepare().then(client => {\n            return client.search.code({\n                \"q\": query.q + \"+repo:\" + github.owner + \"/\" + github.repo,\n                \"page\": query.page,\n                \"per_page\" : query.perPage,\n                \"mediaType\": {\n                    'format': 'text-match+json'\n                }\n            })\n        })\n\n    },\n\n    /**\n     * encrypto 加密程序\n     * @param {String} str 待加密字符串\n     * @return {String} 加密后的字符串\n     */\n    encode(str) {\n        return Base64.encodeURI(str);\n    },\n\n    /**\n     * decrypto 解密程序\n     * @param {String} str 待加密字符串\n     * @return {String} 加密后的字符串\n     */\n    decode(str) {\n        return Base64.decode(str);\n    },\n\n    parentDir(path) {\n        return path.replace(/\\/?([^/]+\\/?)?$/, \"\");\n    },\n\n    prefix(){\n        return this.config.repo === this.config.defaultRepo && '/t/' || '/p/';\n    },\n\n    switchPrefix(){\n        return this.config.repo === this.config.defaultRepo && '/p/' || '/t/';\n    },\n\n    repoPrefix(){\n        return this.config.repo === this.config.defaultRepo && 't' || 'p';\n    },\n\n    repo(prefix){\n        return prefix === 't' && this.config.defaultRepo || this.config.personalRepo;\n    }\n\n\n}\n\n\n","<template>\n    <div class=\"header\">\n\n        <div class=\"container\">\n            <span class=\"logo\">\n                MarkdownBook <span class=\"logo iconfont icon-jiesuo\" v-if=\"github.repo === github.personalRepo\"></span>\n            </span>\n            <nav class=\"main-nav\">\n                <ul class=\"nav-list\">\n                    <li class=\"nav-item search\">\n                        <form role=\"search\" class=\"nav-form\">\n                            <input type=\"search\" maxlength=\"32\" placeholder=\"关键字\" class=\"nav-input\"\n                                   v-model=\"keyword\">\n                            <a class=\"nav-icon iconfont icon-sousuo\" v-on:click=\"search\"></a>\n                        </form>\n                    </li>\n                    <template v-if=\"login === github.owner\">\n                        <template v-if=\"$route.name === 'editor'\">\n                            <li class=\"nav-item search\">\n                                <form role=\"search\" class=\"nav-form\">\n                                    <input v-bind:readonly=\"file.sha\" type=\"search\" maxlength=\"32\" placeholder=\"文件名称\" class=\"nav-input\"\n                                           v-model=\"path\">.md\n                                    <a v-bind:class=\"{ disabled: !!processing, blink: processing === 'save'}\"\n                                       v-on:click=\"saveFile\" class=\"nav-icon iconfont icon-baocun\"> </a>\n                                    <a v-bind:class=\"{ disabled: !!processing }\"\n                                       v-on:click=\"discardFile\" class=\"nav-icon iconfont icon-chexiao\"></a>\n                                    <a v-if=\"file.sha\" v-bind:class=\"{ disabled: !!processing, blink: processing === 'remove'}\"\n                                       v-on:click=\"removeFile\" class=\"nav-icon iconfont icon-shanchu\"></a>\n                                </form>\n                            </li>\n\n                        </template>\n\n                        <template v-else>\n                            <li class=\"nav-item\"><a v-bind:class=\"{ disabled: !!processing }\"\n                                   v-on:click=\"newFile\" class=\"iconfont icon-jiahao\"></a></li>\n\n                            <template v-if=\"file.sha\">\n                                <li class=\"nav-item\"><a v-bind:class=\"{ disabled: !!processing }\"\n                                       v-on:click=\"editFile\" class=\"iconfont icon-bianjibiaoge\"></a>\n                                </li>\n                            </template>\n                        </template>\n                    </template>\n                    <li class=\"nav-item\">\n                        <img v-if=\"login\" class=\"avatar\" v-bind:title=\"'@' + login + ' 登出'\" v-bind:alt=\"'@' + login\"\n                             v-bind:src=\"avatar\" @click.exact=\"logout()\" @click.ctrl.exact=\"switchRepo()\">\n                        <a v-else-if=\"!token\"  @click.exact=\"goLogin(false)\"\n                           @click.ctrl.exact=\"goLogin(true)\">登录</a>\n                    </li>\n                </ul>\n            </nav>\n        </div>\n    </div>\n</template>\n\n<script>\n    import GithubApi from '../github';\n    import {mapMutations, mapState} from 'vuex'\n\n    export default {\n        name: \"Header\",\n        computed: {\n            ...mapState([\n                'file',\n                'dir'\n            ])\n        },\n        data() {\n            return {\n                processing: false,\n                login: null,\n                avatar: null,\n                keyword: null,\n                path: null,\n                token: null,\n                github: GithubApi.config\n            }\n        },\n        mounted() {\n            this.initial();\n        },\n        watch: {\n            \"$route\"(from, to) {\n                this.initial();\n            },\n            path(newValue, prevValue){\n                if(!/^\\w*(\\w+\\/?){0,2}\\w*$/.test(newValue)){\n                    this.$nextTick(() => {\n                        this.path = prevValue;\n                    });\n                }\n            }\n        },\n        methods: {\n            ...mapMutations([\n                \"receiveFile\",\n                \"receiveDir\"\n            ]),\n            initial() {\n                if(this.$route.name === 'editor') {\n                    //编辑文件状态\n                    if (this.$route.params.sha) {\n                        this.file.sha = this.$route.params.sha;\n                        this.file.path = this.$route.params.path || '';\n                        this.path = this.file.path.replace(/\\.md$/, '');\n                    } else{\n                        //新建文件状态\n                        this.path = this.dir && (this.dir + \"/newfile\") || \"newfile\";\n                        this.receiveDir(this.$route.params.mkdir || \"\");\n                    }\n                }\n\n                if (this.$route.params.repo) {\n                    GithubApi.config.repo = GithubApi.repo(this.$route.params.repo);\n                }\n\n                let installToken = this.token;\n                this.token = this.$route.query.access_token || this.$cookies.get(\"access_token\");\n                this.keyword = this.$route.params.keyword;\n\n                //token change\n                if (installToken !== this.token) {\n                    this.updateUser(this.token);\n                }\n\n            },\n            switchRepo(){\n                this.receiveFile({}); //清楚狀態\n                return this.$router.push(GithubApi.switchPrefix() + \"README.md\");\n            },\n            search() {\n                return this.$router.push({\n                    name: \"search\",\n                    params: {\n                        repo: GithubApi.repoPrefix(),\n                        keyword: this.keyword\n                    }\n                });\n            },\n            updateUser(token) {\n                if (token) {\n                    if (this.$cookies.get(\"access_token\") !== token) {\n                        this.$cookies.set(\"access_token\", token, \"7d\");\n                    }\n                    GithubApi.user().then(promise => {\n                        this.login = promise.data.login;\n                        this.avatar = promise.data.avatar_url + \"&s=24\";\n                    })\n                } else {\n                    this.token = null;\n                    this.login = null;\n                    this.avatar = null;\n                }\n            },\n            goHome(callback) {\n                return this.$router.push(GithubApi.prefix() + (this.file.path || this.dir));\n            },\n            goLogin(me) {\n                return this.$router.push({\n                    name: \"login\",\n                    query: {\n                        me: me,\n                        redirectUrl: window.location.href\n                    }\n                });\n            },\n            logout() {\n                this.$cookies.remove(\"access_token\"); //清除sessionStorage\n                GithubApi.config.client = null; //清除全局变量\n                this.updateUser(null);\n            },\n            newFile() {\n                this.receiveFile({}); //清楚狀態\n                return this.$router.push(\"/add\" + GithubApi.prefix() + this.dir)\n            },\n            editFile() {\n                return this.$router.push(\"/edit\"+ GithubApi.prefix() + this.file.sha + \"/\" + this.file.path)\n            },\n            removeFile() {\n                if (this.processing) {\n                    return;\n                }\n                this.processing = \"remove\";\n                GithubApi.remove(this.file).then(promise => {\n                    this.receiveFile({});\n                    return this.goHome();\n                }).finally(() => {\n                    this.processing = false;\n                });\n            },\n            saveFile() {\n                if (this.processing) {\n                    return;\n                }\n                this.processing = \"save\";\n                if (!this.file.sha) {\n                    this.file.path = this.path + '.md';\n                }\n                GithubApi.commit(this.file).then(promise => {\n                    return this.goHome();\n                }).finally(() => {\n                    this.processing = false;\n                });\n            },\n            discardFile() {\n                this.goHome();\n            }\n        }\n    }\n</script>\n\n\n<style scoped>\n\n    .header {\n        position: fixed;\n        top: 0;\n        left: 0;\n        right: 0;\n        transition: all .2s;\n        box-shadow: 0 0 5px #888;\n        background-image: linear-gradient(rgba(255,255,255,.95) 0,rgba(255,255,255,.95) 100%) !important;\n        color: #0366d6;\n        z-index: 100;\n        background: #fff;\n        height: 4rem;\n    }\n\n    .header .iconfont {\n        font-size: 1.5rem;\n    }\n\n    .container {\n        max-width: 960px;\n        margin: auto;\n        display: flex;\n        -webkit-box-align: center;\n        align-items: center;\n        height: 100%;\n    }\n\n    .logo {\n        font-size: 1.25rem;\n        font-weight: 900;\n    }\n\n    .main-nav {\n        height: 100%;\n        flex: 1 0 auto;\n    }\n\n    .nav-list {\n        display: flex;\n        -webkit-box-align: center;\n        align-items: center;\n        justify-content: flex-end;\n        position: relative;\n        height: 100%;\n        margin: 0;\n    }\n\n    .nav-item {\n        position: relative;\n        color: #666;\n        padding: 0 1.2rem;\n        margin: 0;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    }\n\n    .nav-item:after {\n        content: \"|\";\n        position: absolute;\n        top: 20px;\n        left: 100%;\n        color: hsla(0, 0%, 59.2%, .4);\n    }\n\n    .nav-form {\n        border: 1px solid hsla(0, 0%, 59.2%, .2);\n        background-color: rgba(227, 231, 236, .2);\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        border-radius: 2px;\n    }\n\n    .nav-form .nav-input {\n        flex: 1 1 auto;\n        justify-content: flex-end;\n        border: none;\n        width: 10rem;\n        padding: .6rem 0 .6rem 1rem;\n        box-shadow: none;\n        outline: none;\n        font-size: 1rem;\n        background-color: transparent;\n    }\n\n    .nav-form .nav-icon {\n        padding-left: .5rem;\n    }\n\n    .nav-form .nav-icon:last-child {\n        padding-right: .5rem;\n    }\n\n    .nav-form:focus-within {\n        border-color: #0366d6;\n        background-color: #fff;\n    }\n\n    .nav-form:focus-within .nav-icon {\n        color: #0366d6;\n    }\n\n\n    /*.nav {\n        width: 100%;\n        display: flex;\n        line-height: 1.5rem;\n        height: 2rem;\n        overflow-y: hidden;\n    }\n\n    .nav .logo {\n        flex: 1;\n        font-size: 1.2rem;\n        font-weight: 900;\n    }\n\n    .nav ul {\n        display: flex;\n        flex: 3;\n        justify-content: flex-end;\n        align-items: start;\n    }\n\n    .nav .iconfont {\n        font-size: 1.5rem;\n    }\n\n    .nav ul li {\n        position: relative;\n        cursor: pointer;\n        padding: 0 .5rem;\n        border-right: 1px solid hsla(0, 0%, 59.2%, .2);\n    }\n\n    .nav ul li a {\n        color: #0366d6;\n        text-decoration: none;\n    }\n\n    @keyframes blinker {\n        50% {\n            opacity: 0;\n        }\n    }\n\n    .nav ul li a.disabled {\n        pointer-events: none;\n    }\n\n    .nav ul li a.blink {\n        animation: blinker 1s linear infinite;\n    }\n\n    .nav ul li input {\n        padding: 0 .5rem;\n        height: 2rem;\n        border: 1px solid #e6edf4;\n        background-color: #f1f5fa;\n        color: #0366d6;\n    }\n\n    .nav ul li input:focus {\n        outline: none;\n        border-color: #0366d6;\n        background-color: #fff;\n    }\n\n    .nav .avatar {\n        cursor: pointer;\n        vertical-align: middle;\n        height: 1rem;\n        width: 1rem;\n    }*/\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=90c60ed0&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=90c60ed0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"90c60ed0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"screen\">\n        <div class=\"screen-header\">\n            <Header/> <!-- fixed -->\n        </div>\n        <div class=\"screen-content\">\n            <router-view v-bind:path=\"$route.params.path\" v-bind:repo = \"$route.params.repo\"></router-view>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Header from './Header.vue';\n\n    export default {\n        name: \"Home\",\n        components: {\n            Header\n        }\n    }\n</script>\n\n<style scoped>\n\n    .screen {\n\n    }\n\n    .screen-header {\n        height: 4rem;\n    }\n\n    .screen-content {\n\n\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=8b4752d6&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=8b4752d6&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8b4752d6\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit),expression:\"edit\"}],staticClass:\"editor-container\"},[_c('ul',{staticClass:\"mirrormark-toolbar\"},[_c('li',{staticClass:\"bold\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('bold')}}})]),_c('li',{staticClass:\"italicize\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('italicize')}}})]),_c('li',{staticClass:\"blockquote\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('blockquote')}}})]),_c('li',{staticClass:\"code\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('code')}}})]),_c('li',{staticClass:\"strikethrough\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('strikethrough')}}})]),_c('li',{staticClass:\"link\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('link')}}})]),_c('li',{staticClass:\"image\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('image')}}})]),_c('li',{staticClass:\"unorderedList\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('unorderedList')}}})]),_c('li',{staticClass:\"orderedList\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('orderedList')}}})]),_c('li',{staticClass:\"preview\"},[_c('a',{on:{\"click\":function($event){return _vm.takeAction('preview')}}})])]),_c('codemirror',{ref:\"editor\",attrs:{\"options\":_vm.options,\"events\":['drop']},on:{\"drop\":_vm.upload},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.preview),expression:\"preview\"}],staticClass:\"editor-preview markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.markdown)}}),_c('div',{staticClass:\"fixed\"},[_c('a',{class:_vm.preview && _vm.edit && 'active',attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.changeMode('all')}}},[_vm._v(\"Edit & Preview\")]),_c('a',{class:!_vm.preview && _vm.edit && 'active',attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.changeMode('edit')}}},[_vm._v(\"Edit Only\")]),_c('a',{class:!_vm.edit && _vm.preview && 'active',attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.changeMode('preview')}}},[_vm._v(\"Preview Only\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n    <div class=\"container\" >\n\n        <div class=\"editor-container\" v-show=\"edit\" >\n            <ul class=\"mirrormark-toolbar\">\n                <li class=\"bold\"><a v-on:click=\"takeAction('bold')\"></a></li>\n                <li class=\"italicize\"><a v-on:click=\"takeAction('italicize')\"></a></li>\n                <li class=\"blockquote\"><a v-on:click=\"takeAction('blockquote')\"></a></li>\n                <li class=\"code\"><a v-on:click=\"takeAction('code')\"></a></li>\n                <li class=\"strikethrough\"><a v-on:click=\"takeAction('strikethrough')\"></a></li>\n                <li class=\"link\"><a v-on:click=\"takeAction('link')\"></a></li>\n                <li class=\"image\"><a v-on:click=\"takeAction('image')\"></a></li>\n                <li class=\"unorderedList\"><a v-on:click=\"takeAction('unorderedList')\"></a></li>\n                <li class=\"orderedList\"><a v-on:click=\"takeAction('orderedList')\"></a></li>\n                <li class=\"preview\"><a v-on:click=\"takeAction('preview')\"></a></li>\n            </ul>\n            <codemirror :options=\"options\" v-model=\"content\" :events=\"['drop']\" @drop=\"upload\" ref=\"editor\">\n\n            </codemirror>\n        </div>\n\n        <div class=\"editor-preview markdown-body\"  v-show=\"preview\" v-html=\"markdown\" >\n        </div>\n\n        <div class=\"fixed\">\n            <a href=\"#\" v-on:click=\"changeMode('all')\" v-bind:class=\"preview && edit && 'active' \">Edit & Preview</a>\n            <a href=\"#\" v-on:click=\"changeMode('edit')\" v-bind:class=\"!preview && edit && 'active'\">Edit Only</a>\n            <a href=\"#\" v-on:click=\"changeMode('preview')\" v-bind:class=\"!edit && preview && 'active'\">Preview Only</a>\n        </div>\n\n    </div>\n</template>\n\n<script>\n\n    import {codemirror} from 'vue-codemirror'\n    import 'codemirror/mode/markdown/markdown'\n    import 'codemirror/mode/gfm/gfm'\n    import 'codemirror/addon/fold/markdown-fold'\n    import 'codemirror/addon/mode/overlay'\n\n\n    import marked from 'marked'\n    import Prism from 'prismjs';\n    import 'prismjs/components';\n    import 'prismjs/components/prism-autoit';\n\n    import { mapState, mapMutations } from 'vuex'\n    import GithubApi from '../github';\n\n    marked.setOptions({\n        renderer: new marked.Renderer(),\n        highlight: function(code, lang, callback) {\n            const language = Prism.languages[lang] || Prism.languages.autoit;\n            return Prism.highlight(code, language);\n        },\n        gfm: true,\n        breaks: false\n    });\n\n    export default {\n        name: 'editor',\n        components: {\n            codemirror\n        },\n        computed: {\n            ...mapState([\n                \"file\"\n            ])\n        },\n        props: {\n            path: String\n        },\n        data() {\n            return {\n                editorHeight: 0,\n                edit: true,\n                preview: true,\n                markdown: null,\n                content: null,\n                editor: null,\n                options: {\n                    tabSize: 4,\n                    mode: 'text/x-gfm',\n                    lineNumbers: true,\n                    line: true,\n                    lineWrapping: true,\n                    theme: 'mirrormark',\n                    viewportMargin: Infinity\n                },\n            }\n        },\n        watch: {\n            content(curr, prev) {\n                this.markdown = marked(curr);\n                this.file.text = curr;\n                this.receiveFile(this.file);\n            }\n        },\n        mounted(){\n            this.editor = this.$refs.editor.codemirror;\n            if(this.path){\n                GithubApi.contents(this.path, \"raw\").then((promise) => {\n                    this.content = promise.data;\n                    return promise;\n                });\n            }\n        },\n        methods: {\n            ...mapMutations([\n                'receiveFile'\n            ]),\n            changeMode(mode){\n                if(mode && mode === 'edit'){\n                    this.edit = true;\n                    this.preview = false;\n                }\n                else if(mode && mode === 'preview'){\n                    this.edit = false;\n                    this.preview = true;\n                }\n                else{\n                    this.edit = true;\n                    this.preview = true;\n                }\n            },\n            upload(editor, e){\n                if(!/image\\/.+$/.test(e.dataTransfer.files[0].type)){\n                    return ;\n                }\n                this.text = \"![\" + e.dataTransfer.files[0].name + \"](\"+ e.dataTransfer.files[0].webkitRelativePath + \")\";\n\n                let coords = editor.coordsChar({\n                    left: e.x,\n                    top: e.y\n                });\n\n                editor.replaceRange(this.text, coords);\n\n            },\n\n            /**\n             * Insert a string at cursor position\n             * @param  {String} insertion\n             */\n            insert: function insert(insertion) {\n                var doc = this.editor.getDoc();\n                var cursor = doc.getCursor();\n\n                doc.replaceRange(insertion, { line: cursor.line, ch: cursor.ch });\n            },\n\n            /**\n             * Insert a string at the start and end of a selection\n             * @param  {String} start\n             * @param  {String} end\n             */\n            insertAround: function insertAround(start, end) {\n                var doc = this.editor.getDoc();\n                var cursor = doc.getCursor();\n\n                if (doc.somethingSelected()) {\n                    var selection = doc.getSelection();\n                    doc.replaceSelection(start + selection + end);\n                } else {\n                    // If no selection then insert start and end args and set cursor position between the two.\n                    doc.replaceRange(start + end, { line: cursor.line, ch: cursor.ch });\n                    doc.setCursor({ line: cursor.line, ch: cursor.ch + start.length })\n                }\n            },\n\n            /**\n             * Insert a string before a selection\n             * @param  {String} insertion\n             */\n            insertBefore: function insertBefore(insertion, cursorOffset) {\n                var doc = this.editor.getDoc();\n                var cursor = doc.getCursor();\n\n                if (doc.somethingSelected()) {\n                    var selections = doc.listSelections();\n                    selections.forEach(function(selection) {\n                        var pos = [selection.head.line, selection.anchor.line].sort();\n\n                        for (var i = pos[0]; i <= pos[1]; i++) {\n                            doc.replaceRange(insertion, { line: i, ch: 0 });\n                        }\n\n                        doc.setCursor({ line: pos[0], ch: cursorOffset || 0 });\n                    });\n                } else {\n                    doc.replaceRange(insertion, { line: cursor.line, ch: 0 });\n                    doc.setCursor({ line: cursor.line, ch: cursorOffset || 0 })\n                }\n            },\n\n            /**\n             * Default Actions\n             * @type {Object}\n             */\n            takeAction: function(action) {\n                switch (action) {\n                    case 'bold':\n                        this.insertAround('**', '**');\n                        break;\n                    case 'italicize':\n                        this.insertAround('*', '*')\n                        break;\n                    case 'strikethrough':\n                        this.insertAround('~~', '~~');\n                        break;\n                    case 'code':\n                        this.insertAround('```\\r\\n', '\\r\\n```');\n                        break;\n                    case 'blockquote':\n                        this.insertBefore('> ', 2);\n                        break;\n                    case 'orderedList':\n                        this.insertBefore('1. ', 3);\n                        break;\n                    case 'unorderedList':\n                        this.insertBefore('* ', 2);\n                        break;\n                    case 'image':\n                        this.insertBefore('![](http://)', 2);\n                        break;\n                    case \"link\":\n                        this.insertAround('[', '](http://)');\n                        break;\n                    case \"hr\":\n                        this.insert('---');\n                        break;\n                    }\n                }\n\n        }\n\n    }\n\n\n</script>\n\n\n<style scoped>\n\n    @import '~codemirror/lib/codemirror.css';\n    @import '~font-awesome/css/font-awesome.min.css';\n    @import '~prismjs/themes/prism.css';\n\n    @import \"./../assets/css/github.css\";\n    @import \"./../assets/css/mirrormark.css\";\n\n    .container {\n        min-width: 1125px;\n        position: absolute;\n        top: 4rem;\n        left: 0;\n        right: 0;\n        bottom: 0;\n        display: flex;\n        background-color: #fff;\n    }\n\n    .editor-preview, .editor-container {\n        flex: 1;\n        max-width: 100%;\n        height: 100%;\n    }\n\n    .editor-container{\n        display: flex;\n        flex-flow: column;\n        overflow-y: hidden;\n    }\n\n    .editor-preview {\n        border-left-width: 1px;\n        border-left-style: solid;\n        border-left-color: rgb(221, 221, 221);\n        border-image: initial;\n        padding: 20px;\n        box-sizing: border-box;\n        overflow-y: auto;\n    }\n\n    .vue-codemirror {\n        flex: 1 1 auto;\n        max-width: 100%;\n        overflow-y: auto;\n    }\n\n    .fixed {\n        z-index: 999;\n        position: fixed;\n        display: flex;\n        flex-direction: column;\n        top: 4rem;\n        right: 0;\n        opacity: 0;\n    }\n\n    .fixed:hover{\n        opacity: 0.9;\n        border-left: 1px solid #e0e0e0;\n        border-bottom: 1px solid #e0e0e0;\n    }\n\n    .fixed a {\n        flex: 1;\n        display: block;\n        background-color: #fff;\n        padding: 10px 25px;\n        cursor: pointer;\n        color: #000;\n        text-decoration: none;\n        position: relative; /* 设置子元素为相对定位，可让子元素不继承Alpha值，保证字体颜色不透明 */\n        border-top: 1px solid #fff;\n        border-bottom: 1px solid #fff;\n    }\n\n    .fixed a.active {\n        color: #ca0c16;\n    }\n\n    .fixed a:hover {\n        -webkit-box-shadow: 0 5px 5px 0 rgba(0, 0, 0, 0.05);\n        box-shadow: 0 5px 5px 0 rgba(0, 0, 0, 0.05);\n    }\n    .fixed a:hover:not(:last-child) {\n        border-bottom: 1px solid #e0e0e0;\n    }\n    .fixed a:hover:not(:first-child) {\n        border-top: 1px solid #e0e0e0;\n    }\n\n    /*控制整个滚动条*/\n    ::-webkit-scrollbar {\n        background-color: rgba(0,0,0,.05);\n        width: 8px;\n        height: 8px;\n        background-clip: padding-box;\n    }\n\n    /*滚动条两端方向按钮*/\n    ::-webkit-scrollbar-button {\n        display: none;\n    }\n\n    /*滚动条中间滑动部分*/\n    ::-webkit-scrollbar-thumb {\n        background-color: #ccc;\n        border-radius: 5px;\n    }\n\n    /*滚动条右下角区域*/\n    ::-webkit-scrollbar-corner {\n        background-color: #ccc;\n    }\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=2539eb5e&scoped=true&\"\nimport script from \"./Editor.vue?vue&type=script&lang=js&\"\nexport * from \"./Editor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editor.vue?vue&type=style&index=0&id=2539eb5e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2539eb5e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fluid-container\"},[_c('div',{staticClass:\"panel markdown-body\"},[(_vm.loading)?[_c('span',[_vm._v(\"加载中...\")])]:[_c('router-view',{attrs:{\"preview\":_vm.preview}})]],2),_c('div',{staticClass:\"panel entry-list\"},[_c('DirectoryPanel',{attrs:{\"loading\":_vm.loading,\"items\":_vm.items,\"path\":_vm.path}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"entry-box\"},[_c('li',{staticClass:\"entry\",class:{ active: _vm.loadingParentDir(), disabled: _vm.dir === '' },on:{\"click\":function($event){return _vm.parentDir()}}},[_c('div',{staticClass:\"entry-body\"},[(_vm.loadingParentDir() )?_c('div',{staticClass:\"entry-indicator\"},[_c('Loading')],1):_vm._e(),_vm._v(\"\\n            \"+_vm._s(_vm.dir && '返回上一层' || '根目录')+\"\\n        \")]),_c('div',{staticClass:\"entry-footer\"},[_vm._v(\"\\n            \"+_vm._s(_vm.dir || \"...\"))])]),_vm._l((_vm.items),function(it){return _c('li',{staticClass:\"entry\",class:{ active: it.path === _vm.path},on:{\"click\":function($event){return _vm.processItem(it)}}},[_c('div',{staticClass:\"entry-body\"},[(_vm.loading && it.path === _vm.path)?_c('div',{staticClass:\"entry-indicator\"},[_c('Loading')],1):_vm._e(),_vm._v(\"\\n            \"+_vm._s(it.name)+\"\\n        \")]),(it.type === 'file')?_c('div',{staticClass:\"entry-footer\"},[_vm._v(_vm._s(it.size)+\" byte\")]):_vm._e(),(it.type === 'dir')?_c('div',{staticClass:\"entry-footer\"},[_vm._v(\"目录\")]):_vm._e()])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loader simple-circle\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"loader simple-circle\"></div>\n</template>\n\n<script>\n    export default {\n        name: \"Loading\"\n    }\n</script>\n\n<style scoped>\n\n    /*\n    The loaders use CSS custom properties (variables) to control the attributes of the loaders\n    */\n    .loader,.loader:before,.loader:after{\n        box-sizing: border-box;\n        flex-grow: 0;\n        flex-shrink: 0;\n    }\n    /*\n    In order to get optimal results, please only change the\n    variables above and don't change anything in the actual loader code\n    */\n\n    @keyframes circle-loader {\n        0% {\n            transform: rotate(0deg);\n        }\n        100% {\n            transform: rotate(360deg);\n        }\n    }\n\n    .loader.simple-circle {\n        transform-origin: center center;\n        border: 3px solid #7D2727;\n        border-right-color: rgba(0,0,0,0);\n        width: 18px;\n        height: 18px;\n        border-radius: 50%;\n        animation: circle-loader 1s infinite ease-out;\n    }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Loading.vue?vue&type=template&id=46b33e49&scoped=true&\"\nimport script from \"./Loading.vue?vue&type=script&lang=js&\"\nexport * from \"./Loading.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Loading.vue?vue&type=style&index=0&id=46b33e49&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46b33e49\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <ul class=\"entry-box\">\n        <li class=\"entry\" v-on:click=\"parentDir()\" v-bind:class=\"{ active: loadingParentDir(), disabled: dir === '' }\">\n            <div class=\"entry-body\">\n                <div class=\"entry-indicator\" v-if=\"loadingParentDir() \"><Loading/></div>\n                {{dir && '返回上一层' || '根目录'}}\n            </div>\n            <div class=\"entry-footer\">\n                {{dir || \"...\"}}</div>\n        </li>\n        <li class=\"entry\" v-for=\"it in items\" v-on:click=\"processItem(it)\" v-bind:class=\"{ active: it.path === path}\">\n\n            <div class=\"entry-body\">\n                <div class=\"entry-indicator\" v-if=\"loading && it.path === path\"><Loading/></div>\n                {{it.name}}\n            </div>\n            <div class=\"entry-footer\" v-if=\"it.type === 'file'\">{{it.size}} byte</div>\n            <div class=\"entry-footer\" v-if=\"it.type === 'dir'\">目录</div>\n        </li>\n    </ul>\n</template>\n\n<script>\n    import Loading from './Loading.vue';\n    import GithubApi from '../github';\n    import {mapState} from 'vuex';\n\n    export default {\n        name: \"DirectoryPanel\",\n        components: {\n            Loading\n        },\n        props: {\n            path: String,\n            items: Array,\n            loading: Boolean\n        },\n        computed: {\n            ...mapState([\n                \"dir\",\n                \"file\"\n            ])\n        },\n        methods: {\n            redirect(path){\n                //只有路由不同才跳转\n                if(this.path !== path){\n                    this.$router.push(GithubApi.prefix() + path);\n                }\n            },\n            loadingParentDir() {\n                return this.loading && (GithubApi.parentDir(this.dir) === (this.path || '') || this.items === null);\n            },\n            parentDir(){\n                if (this.dir && !this.loading) {\n                    this.redirect(GithubApi.parentDir(this.dir));\n                }\n            },\n            processItem(it){\n                if(!this.loading){\n                    this.redirect(it.path);\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .entry {\n        position: relative;\n        padding: 0.5rem 1rem;\n    }\n\n    .entry:not(:last-child) {\n        border-bottom: 1px solid #f1f1f1;\n    }\n\n    .entry.active .entry-body {\n        color: #7D2727;\n    }\n\n    .entry.disabled:hover {\n        cursor: not-allowed;\n        background-color: #fff;\n    }\n\n    .entry.disabled .entry-body {\n        color: #bfbfbf;\n    }\n\n    .entry:hover {\n        background-color: #f9f9f9;\n        cursor: pointer;\n    }\n\n    .entry-indicator {\n        position: absolute;\n        right: 1rem;\n\n    }\n\n    .entry-body {\n        font-size: 1rem;\n        font-weight: bolder;\n        color: #0366d6;\n    }\n\n    .entry-footer {\n        font-size: 0.5rem;\n        color: #b2bac2;\n        text-align: right;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectoryPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DirectoryPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DirectoryPanel.vue?vue&type=template&id=362cfa15&scoped=true&\"\nimport script from \"./DirectoryPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./DirectoryPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DirectoryPanel.vue?vue&type=style&index=0&id=362cfa15&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"362cfa15\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"fluid-container\">\n\n        <div class=\"panel markdown-body\">\n            <template v-if=\"loading\">\n                <span>加载中...</span>\n            </template>\n            <template v-else>\n                <router-view v-bind:preview=\"preview\"></router-view>\n            </template>\n        </div>\n\n        <div class=\"panel entry-list\">\n            <DirectoryPanel v-bind:loading=\"loading\" v-bind:items=\"items\" v-bind:path=\"path\"></DirectoryPanel>\n        </div>\n\n\n    </div>\n</template>\n\n<script>\n\n    import GithubApi from '../github';\n    import DirectoryPanel from \"./DirectoryPanel\";\n    import { mapMutations, mapState } from 'vuex'\n\n    export default {\n        name: 'Entry',\n        components: {\n            DirectoryPanel\n        },\n        props: {\n            \"path\": String,\n            \"repo\": String\n        },\n        data() {\n            return {\n                loading: false,\n                items: null,\n                preview: null\n            }\n        },\n        computed: {\n            ...mapState([\n                'dir',\n                'file'\n            ])\n        },\n        created() {\n        },\n        beforeDestroy() {\n        },\n        mounted() {\n            this.refresh(this.path).then(() => {\n                this.restoreHash();\n            });\n        },\n        watch: {\n            path(newValue, prevValue){\n                if(this.$route.name === 'article'){\n                    this.refresh(newValue);\n                }\n            },\n            repo(newValue, prevValue){\n                if(this.$route.name === 'article'){\n                    this.preview = null;\n                    this.items = null;\n                    this.refresh(this.path, true);\n                }\n            }\n        },\n        methods: {\n            ...mapMutations([\n                'receiveFile',\n                'receiveDir'\n            ]),\n            refresh(path, updateDir){\n                return this.showContent(path || '', updateDir)\n            },\n            restoreHash(){\n                if(!this.$route.hash){\n                    return ;\n                }\n\n                let anchor = document.querySelector(\"[href='\" + decodeURIComponent(this.$route.hash) + \"']\");\n                if(anchor){\n                    let headerOffset = 64;\n                    let elementPosition = anchor.getBoundingClientRect().top;\n                    let offsetPosition = elementPosition - headerOffset;\n\n                    window.scrollTo({\n                        top: offsetPosition,\n                        behavior: \"smooth\"\n                    });\n                }\n            },\n            markedItem(path){\n                this.receiveFile(this.items.find(it =>{\n                    return it.path === path;\n                }));\n            },\n            showContent(path, updateDir) {\n                let dir = null;\n                this.loading = true;\n                return GithubApi.contents(path).then((promise) => {\n                    if(promise.type === 'file'){\n                        this.preview = promise.data;\n                        dir = GithubApi.parentDir(path);\n                        //目录树需要更新\n                        if(updateDir || dir !== this.dir || this.items === null) {\n                            return this.showContent(dir).then((dirPromise) => {\n                                this.markedItem(path);\n                                return dirPromise;\n                            })\n                        }\n                        else {\n                            this.markedItem(path);\n                        }\n                    }\n                    else {\n                        this.items = promise.data;\n                        dir = path;\n                    }\n                    this.receiveDir(dir);\n                    return promise;\n                }).catch(reason => {\n                    this.preview = reason.message;\n                    if(updateDir){\n                        return this.showContent(GithubApi.parentDir(path));\n                    }\n                }).finally(() => {\n                    this.loading = false;\n                });\n            }\n        }\n    }\n\n</script>\n\n\n\n<style scoped>\n    @import '~github-markdown-css/github-markdown.css';\n\n    .entry-list {\n        flex: 1;\n        border: 1px solid #e3e3e3;\n        box-shadow: 3px 3px 3px #EBEBEB;\n        margin-left: 1rem;\n    }\n\n    .markdown-body {\n        flex: 4;\n        border: 1px solid #e3e3e3;\n        box-shadow: 3px 3px 3px #EBEBEB;\n        padding: 1rem 1rem 1rem 2rem;\n        overflow: hidden;\n    }\n\n    .panel {\n        background: #fff;\n    }\n\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Entry.vue?vue&type=template&id=805e53e4&scoped=true&\"\nimport script from \"./Entry.vue?vue&type=script&lang=js&\"\nexport * from \"./Entry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Entry.vue?vue&type=style&index=0&id=805e53e4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"805e53e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search-panel\"},[_vm._l((_vm.searchItems),function(item){return [_c('div',{staticClass:\"search-header\"},[_c('pre',[_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.showFile(item.path)}}},[_vm._v(_vm._s(item.name))])]),_vm._l((item['text_matches']),function(matchText){return [_c('pre',{staticClass:\"matchText\",domProps:{\"innerHTML\":_vm._s(_vm.pretty(matchText.fragment, matchText.matches))}})]})],2)]}),(!_vm.loading && _vm.searchItems.length === 0)?_c('div',{staticClass:\"search-header\"},[_vm._v(\"\\n        未找到任何结果\\n    \")]):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"search-header\"},[_vm._v(\"\\n        查找中...\\n    \")]):_vm._e(),(_vm.incompleteResults)?_c('div',{staticClass:\"search-footer\"},[_c('pre',[_c('a',{attrs:{\"href\":\"javascript:void(0);\"},on:{\"click\":function($event){return _vm.more()}}},[_vm._v(\"查看更多\")])])]):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"search-panel\" >\n        <template v-for=\"item in searchItems\">\n            <div class=\"search-header\">\n                <pre><a href=\"javascript:void(0);\" v-on:click=\"showFile(item.path)\" >{{item.name}}</a></pre>\n                <template v-for=\"matchText in item['text_matches']\">\n                    <pre class=\"matchText\" v-html=\"pretty(matchText.fragment, matchText.matches)\"></pre>\n                </template>\n            </div>\n        </template>\n        <div class=\"search-header\" v-if=\"!loading && searchItems.length === 0\">\n            未找到任何结果\n        </div>\n        <div class=\"search-header\" v-if=\"loading\">\n            查找中...\n        </div>\n\n        <div class=\"search-footer\" v-if=\"incompleteResults\">\n            <pre><a href=\"javascript:void(0);\" v-on:click=\"more()\" >查看更多</a></pre>\n        </div>\n    </div>\n</template>\n\n<script>\n    import GithubApi from '../github';\n\n    export default {\n        name: \"SearchPanel\",\n        data: () => {\n            return {\n                loading: false,\n                query: {\n                    q: null,\n                    page: 1,\n                    perPage: 10\n                },\n                searchItems: [],\n                incompleteResults: false,\n            };\n        },\n        mounted(){\n            this.query.q = this.$route.params.keyword;\n            this.query.page = 1;\n            this.query.perPage = 10;\n            this.search();\n        },\n        watch: {\n            \"$route.params.keyword\" (value){\n                this.query.q = value;\n                this.query.page = 1;\n                this.query.perPage = 10;\n                this.searchItems = [];\n                this.search();\n            }\n        },\n        methods: {\n            search(){\n                this.loading = true;\n                return GithubApi.search(this.query).then(promise => {\n                    this.searchItems = this.searchItems.concat(promise.data.items);\n                    this.incompleteResults = this.searchItems.length !== promise.data.total_count ;\n                }).finally(() =>{\n                    this.loading = false;\n                })\n            },\n            more(){\n                this.query.page ++;\n                return this.search();\n            },\n            showFile(path){\n                this.$router.push(GithubApi.prefix() + path);\n            },\n            pretty(fragment, matches){\n\n                let result = \"\";\n                let start = 0;\n                let match = null;\n                for (let i = 0; i < matches.length; i++) {\n                    match = matches[i];\n                    result += fragment.substring(start, match.indices[0]) + \"<span class='pl-k'>\" + match.text + \"</span>\";\n                    start = match.indices[1];\n                }\n                return result + fragment.substring(start);\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    pre {\n        white-space: pre-wrap;       /* Since CSS 2.1 */\n        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\n        white-space: -o-pre-wrap;    /* Opera 7 */\n        word-wrap: break-word;       /* Internet Explorer 5.5+ */\n    }\n\n    .search-header pre.matchText {\n        margin-left: 2rem;\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchPanel.vue?vue&type=template&id=470e6ea4&scoped=true&\"\nimport script from \"./SearchPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchPanel.vue?vue&type=style&index=0&id=470e6ea4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"470e6ea4\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{domProps:{\"innerHTML\":_vm._s(_vm.preview)}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-html=\"preview\"></div>\n</template>\n\n<script>\n\n    export default {\n        name: \"ArticlePanel\",\n        props: {\n            preview: String\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticlePanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticlePanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticlePanel.vue?vue&type=template&id=66494a34&scoped=true&\"\nimport script from \"./ArticlePanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticlePanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66494a34\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(\"div\")}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n</template>\n\n<script>\n    import GithubApi from '../github';\n    export default {\n        name: \"Login\",\n        mounted() {\n\n            if(this.$route.query.me){\n                let oauthApps = \"client_id=\" + GithubApi.config.oauthAppsClientId;\n                window.location = \"https://github.com/login/oauth/authorize?\" + oauthApps + \"&redirect_uri=\" + encodeURIComponent(this.authorizeUrl(oauthApps)) + \"&scope=repo&login=\" + GithubApi.config.owner + \"&state=\" + Math.floor(Math.random()*100000);\n            }\n            else{\n                let githubApps = \"client_id=\" + GithubApi.config.githubAppsClientId;\n                window.location = \"https://github.com/login/oauth/authorize?\" + githubApps + \"&redirect_uri=\" + encodeURIComponent(this.authorizeUrl(githubApps)) + \"&state=\" + Math.floor(Math.random()*100000);\n            }\n        },\n        methods: {\n            authorizeUrl(apps){\n                return GithubApi.config.oauthUrl + \"?\" + apps + \"&redirect_uri=\" + encodeURIComponent(this.$route.query.redirectUrl || \"\");\n            }\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=581735f4&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"581735f4\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport Router from 'vue-router'\n\nimport Home from './views/Home.vue';\nimport Editor from './views/Editor.vue';\nimport Entry from './views/Entry.vue';\nimport SearchPanel from './views/SearchPanel.vue';\nimport ArticlePanel from './views/ArticlePanel.vue';\nimport Login from './views/Login.vue';\n\nVue.use(Router);\n\nexport default new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n        path: '/',\n        redirect: '/t/README.md'\n    },\n    {\n      path: '/:repo(t|p)',\n      redirect: '/:repo/README.md'\n    },\n    {\n      path: '/',\n      component: Home,\n      children: [\n        {\n          name: 'entry',\n          path: '/',\n          component: Entry,\n          children: [\n            {\n              name: 'search',\n              path: '/s:repo(t|p)/:keyword',\n              component: SearchPanel\n            },\n            {\n              name: 'article',\n              path: '/:repo(t|p)/:path*',\n              component: ArticlePanel\n            },\n            {\n              name: 'article',\n              path: '/',\n              component: ArticlePanel\n            }\n          ]\n        },\n        {\n          path: '/edit/:repo(t|p)/:sha/:path*',\n          component: Editor,\n          name: 'editor'\n        },\n        {\n          path: '/add/:repo(t|p)/:mkdir*',\n          component: Editor,\n          name: 'editor'\n        },\n        {\n          name: 'login',\n          path: '/login',\n          component: Login\n        }\n      ]\n    }\n  ]\n})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex);\n\n\nconst state = {\n    file: {},//当前文件信息\n    dir: \"\"//当前目录\n};\n\n//setter\nconst mutations = {\n    receiveFile(state, payload) {\n        state.file = payload;\n    },\n    receiveDir(state, payload) {\n        state.dir = payload;\n    }\n};\n\nconst actions = {\n};\n\nexport default new Vuex.Store({\n    state,\n    mutations,\n    actions\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport VueCookies from 'vue-cookies'\nVue.use(VueCookies);\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=style&index=0&id=805e53e4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Entry.vue?vue&type=style&index=0&id=805e53e4&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=46b33e49&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Loading.vue?vue&type=style&index=0&id=46b33e49&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=90c60ed0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Header.vue?vue&type=style&index=0&id=90c60ed0&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=8b4752d6&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=8b4752d6&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-view',[_c('div',{attrs:{\"id\":\"app\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b8cce08c-vue-loader-template\\\"}!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=template&id=ebfa7610&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=2539eb5e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=style&index=0&id=2539eb5e&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=style&index=0&id=470e6ea4&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchPanel.vue?vue&type=style&index=0&id=470e6ea4&scoped=true&lang=css&\""],"sourceRoot":""}